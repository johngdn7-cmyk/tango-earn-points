<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tango Tokens — Demo Ad Watcher</title>
  <style>
    :root{--bg:#f7f9fc;--card:#fff;--accent:#ff6b6b;--muted:#666}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial; background:var(--bg); margin:0; padding:24px;}
    .container{max-width:1000px;margin:0 auto}
    header{display:flex;gap:16px;align-items:center}
    header img.logo{width:140px;height:auto;border-radius:14px;box-shadow:0 6px 24px rgba(0,0,0,0.08)}
    header .title{font-size:22px;font-weight:700}
    .balance{margin-left:auto;background:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 6px 24px rgba(0,0,0,0.06);display:flex;align-items:center;gap:8px}
    .balance .num{font-weight:800;color:var(--accent)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;margin-top:20px}
    .card{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.04)}
    .card h3{margin:0 0 8px 0;font-size:16px}
    .video-wrap{position:relative;padding-top:56.25%;background:#000;border-radius:8px;overflow:hidden}
    .video-wrap iframe{position:absolute;top:0;left:0;width:100%;height:100%}
    .controls{display:flex;gap:8px;margin-top:10px;align-items:center}
    .btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
    .btn.watch{background:linear-gradient(90deg,#2db7f5,#4f8cff);color:#fff}
    .btn.claim{background:linear-gradient(90deg,#ffd166,#ff8b5e)}
    .btn.claim[disabled]{opacity:0.5;cursor:not-allowed}
    .small{font-size:13px;color:var(--muted)}
    footer{margin-top:28px;font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <!-- Embedded logo from your uploaded image -->
      <img class="logo" alt="logo" src="data:image/png;base64,REPLACE_BASE64_HERE">
      <div>
        <div class="title">Tango Tokens — Demo (Project)</div>
        <div class="small">Watch the videos below and claim a demo reward. (No real tokens are awarded.)</div>
      </div>

      <div class="balance">
        <div style="font-size:12px;color:#333">Balance</div>
        <div class="num" id="balance">0</div>
      </div>
    </header>

    <div style="margin-top:16px; font-size:14px; color:var(--muted)">Choose a video ad, watch it until it finishes, then press \"I did it — claim reward\" to receive the demo reward and be redirected.</div>

    <div class="grid" id="videos">
      <!-- Video cards inserted by JS -->
    </div>

    <footer>
      This is a demo page for your project. After claiming a reward, you will be redirected to the specified URL.
    </footer>
  </div>

  <!-- YouTube Iframe API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    // Replace this with the URL you asked for when the user claims reward
    const REDIRECT_URL = 'https://johngdn7-cmyk.github.io/make-18-AI_VIDEO/';

    // Example YouTube video IDs to use as 'ads' — change/remove as you like
    const VIDEOS = [
      {id:'dQw4w9WgXcQ', title:'Demo Ad 1 — Rickroll'},
      {id:'M7lc1UVf-VE', title:'Demo Ad 2 — YouTube API Intro'},
      {id:'3JZ_D3ELwOQ', title:'Demo Ad 3 — Music Clip'}
    ];

    // reward amount per video (demo)
    const REWARD_PER_VIDEO = 5000;

    // state
    let players = {};
    let balance = 0;

    function el(q,ctx=document){return ctx.querySelector(q)}
    function createVideoCard(v){
      const card = document.createElement('div'); card.className='card';
      card.innerHTML = `
        <h3>${v.title}</h3>
        <div class=\"video-wrap\" id=\"wrap-${v.id}\">
          <!-- iframe will be injected -->
          <div style=\"position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:#fff\">Click Play to start</div>
        </div>
        <div class=\"controls\">
          <button class=\"btn watch\" id=\"play-${v.id}\">Play</button>
          <button class=\"btn claim\" id=\"claim-${v.id}\" disabled> I did it — claim reward</button>
          <div class=\"small\">Status: <span id=\"status-${v.id}\">not started</span></div>
        </div>
      `;

      // attach handlers after inserting
      return card;
    }

    function onYouTubeIframeAPIReady(){
      const container = el('#videos');
      VIDEOS.forEach(v=>{
        const card = createVideoCard(v);
        container.appendChild(card);

        const wrap = el(`#wrap-${v.id}`);
        // create player only when Play is clicked
        el(`#play-${v.id}`, card).addEventListener('click', ()=>{
          if(players[v.id]){ players[v.id].playVideo(); return; }
          const iframeId = 'player-'+v.id;
          const div = document.createElement('div'); div.id = iframeId; div.style.width='100%'; div.style.height='100%';
          wrap.innerHTML=''; wrap.appendChild(div);
          const player = new YT.Player(iframeId, {
            height: '100%', width: '100%', videoId: v.id,
            playerVars: {playsinline:1,rel:0},
            events: {
              'onStateChange': function(e){
                const st = e.data; const statusEl = el('#status-'+v.id);
                if(st===YT.PlayerState.ENDED){
                  statusEl.textContent='finished';
                  el('#claim-'+v.id).disabled=false;
                } else if(st===YT.PlayerState.PLAYING){ statusEl.textContent='playing'; }
                else if(st===YT.PlayerState.PAUSED){ statusEl.textContent='paused'; }
              }
            }
          });
          players[v.id]=player;
        });

        el(`#claim-${v.id}`, card).addEventListener('click', ()=>{
          // simple double-check: only allow if enabled
          const btn = el('#claim-'+v.id);
          if(btn.disabled) return;
          // increase demo balance
          balance += REWARD_PER_VIDEO;
          el('#balance').textContent = balance.toLocaleString();

          // optional: disable the claim button so user can't claim again
          btn.disabled = true; btn.textContent = 'claimed';

          // redirect to the provided URL (you can append query info if desired)
          // we'll append a small query string with amount
          const dest = REDIRECT_URL + '?reward=' + REWARD_PER_VIDEO + '&video=' + encodeURIComponent(v.id);
          // hint to user before redirect
          setTimeout(()=>{ window.location.href = dest; }, 600);
        });
      });
    }

    // Expose the API-ready callback
    window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
  </script>
</body>
</html>